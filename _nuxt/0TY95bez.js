const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./t1bGXd6q.js","./dfVOuy5H.js","./CJaI3g8a.js","./entry.44wWX5U7.css","./CV4Hssdo.js","./DNVM3v8a.js"])))=>i.map(i=>d[i]);
import{I as N,G as f,_ as v}from"./CJaI3g8a.js";import{b as M,n as w,r as S,c as $,i as j,j as H,k as L,l as I,B as R,t as G,m as U,u as B,o as V,q as z}from"./dfVOuy5H.js";import{n as b}from"./iik6CYzq.js";import{T as Ct,f as Dt,i as Et,a as Mt,b as St,u as $t}from"./iik6CYzq.js";import{h as F}from"./DnRJWLPn.js";import{r as Ht}from"./DNVM3v8a.js";import"./CV4Hssdo.js";const x=async(r,t={})=>{const a=Object.entries(t).filter(e=>e[1]!==!1);for(const e of a){const i=e[1].instance||await import(e[0]).then(s=>s.default||s);r.use(i,e[1].options)}};function W(r,t){const a={type:"element",tagName:"em",properties:t.attributes||{},children:r.all(t)};return r.patch(t,a),r.applyData(t,a)}function X(r){if(!r?.trim())return{language:void 0,highlights:void 0,filename:void 0,meta:void 0};const t=r.replace(/[{|[](.+)/,"").match(/^[^ \t]+(?=[ \t]|$)/),a=r.match(/\{([^}]*)\}/),e=r.match(/\[(.*)\]/),i=r.replace(t?.[0]??"","").replace(a?.[0]??"","").replace(e?.[0]??"","").trim();let s;return e?.[1]&&(s=e[1].replace(/\\([[\]{}().*+?^$|])/g,"$1")),{language:t?.[0]||void 0,highlights:q(a?.[1]||void 0),filename:s,meta:i}}function q(r){const t=String(r||"").split(",").filter(Boolean).flatMap(a=>{const[e,i]=a.trim().split("-").map(s=>Number(s.trim()));return Array.from({length:(i||e||0)-(e||0)+1}).map((s,l)=>(e||0)+l)});return t.length?t:void 0}const J=/^<\/?([\w-]+)(\s[^>]*?)?\/?>/;function k(r){const t=String(r).match(J);return t&&t[1]}const Z=(r,t)=>{const a=(t.lang||"")+" "+(t.meta||""),{language:e="text",highlights:i,filename:s,meta:l}=X(a),c=t.value?M(t.value+`
`):"";let n={type:"element",tagName:"code",properties:{__ignoreMap:""},children:[{type:"text",value:c}]};l&&(n.data={meta:l}),r.patch(t,n),n=r.applyData(t,n);const o={language:e||"text",filename:s,highlights:i,meta:l,code:c};return e&&(o.className=["language-"+e]),n={type:"element",tagName:"pre",properties:o,children:[n]},r.patch(t,n),n};function K(r,t){const a=k(t.value);if(a&&/[A-Z]/.test(a)&&(t.value=t.value.replace(a,N(a))),r.dangerous||r.options?.allowDangerousHtml){const e={type:"raw",value:t.value};return r.patch(t,e),r.applyData(t,e)}}function O(r,t){const a={...t.attributes||{},href:w(t.url)};t.title!==null&&t.title!==void 0&&(a.title=t.title);const e={type:"element",tagName:"a",properties:a,children:r.all(t)};return r.patch(t,e),r.applyData(t,e)}function Q(r,t){const a={},e=r.all(t);let i=-1;for(typeof t.start=="number"&&t.start!==1&&(a.start=t.start);++i<e.length;){const l=e[i];if(l&&l.type==="element"&&l.tagName==="li"&&l.properties&&Array.isArray(l.properties.className)&&l.properties.className.includes("task-list-item")){a.className=["contains-task-list"];break}}(t.children||[]).some(l=>typeof l.checked=="boolean")&&(a.className=["contains-task-list"]);const s={type:"element",tagName:t.ordered?"ol":"ul",properties:a,children:r.wrap(e,!0)};return r.patch(t,s),r.applyData(t,s)}function Y(r,t){if(t.children&&t.children[0]&&t.children[0].type==="html"){const e=N(k(t.children[0].value)||"div");if(!F.includes(e))return r.all(t)}const a={type:"element",tagName:"p",properties:{},children:r.all(t)};return r.patch(t,a),r.applyData(t,a)}function tt(r,t){const a={...t.attributes,src:w(t.url)};t.alt!==null&&t.alt!==void 0&&(a.alt=t.alt),t.title!==null&&t.title!==void 0&&(a.title=t.title);const e={type:"element",tagName:"img",properties:a,children:[]};return r.patch(t,e),r.applyData(t,e)}function et(r,t){const a={type:"element",tagName:"strong",properties:t.attributes||{},children:r.all(t)};return r.patch(t,a),r.applyData(t,a)}function rt(r,t){const a=t.attributes?.language||t.attributes?.lang,e={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};r.patch(t,e);const i={type:"element",tagName:"code",properties:t.attributes||{},children:[e]},s=(i.properties.class||"").split(" ");return delete i.properties.class,a&&(i.properties.language=a,delete i.properties.lang,s.push("language-"+a)),i.properties.className=s.join(" "),r.patch(t,i),r.applyData(t,i)}function at(r,t){const a={type:"element",tagName:t.name,properties:{...t.attributes,...t.data?.hProperties},children:r.all(t)};return r.patch(t,a),a.attributes=t.attributes,a.fmAttributes=t.fmAttributes,a}const it={emphasis:W,code:Z,link:O,paragraph:Y,html:K,list:Q,image:tt,strong:et,inlineCode:rt,containerComponent:at},T={remark:{plugins:{"remark-mdc":{instance:I},"remark-gfm":{instance:L}}},rehype:{options:{handlers:it,allowDangerousHtml:!0},plugins:{"rehype-external-links":{instance:H},"rehype-sort-attribute-values":{instance:j},"rehype-sort-attributes":{instance:$},"rehype-raw":{instance:S,options:{passThrough:["element"]}}}},highlight:!1,toc:{searchDepth:2,depth:2}};function P(r){return r.type==="comment"?"":r.type==="text"?r.value||"":(r.children||[]).reduce((t,a)=>t.concat(P(a)),"")}function A(r,t=2,a=0){return!Array.isArray(r.children)||a===t?[r]:[r,...r.children.reduce((e,i)=>e.concat(A(i,t,a+1)),[])]}const _=["h2","h3","h4","h5","h6"],st=_.reduce((r,t)=>(r[t]=Number(t.charAt(t.length-1)),r),{}),lt=r=>st[r.tag],nt=r=>((r<1||r>5)&&(console.log(`\`toc.depth\` is set to ${r}. It should be a number between 1 and 5. `),r=1),_.slice(0,r));function C(r){if(r.length<=1)return r;const t=[];let a;return r.forEach(e=>{!a||e.depth<=a.depth?(e.children=[],a=e,t.push(e)):a.children.push(e)}),t.forEach(e=>{e.children?.length?e.children=C(e.children):delete e.children}),t}function ct(r,t){const{searchDepth:a,depth:e,title:i=""}=t,s=nt(e),c=A(r,a).filter(n=>s.includes(n.tag||"")).map(n=>({id:n.props?.id,depth:lt(n),text:P(n)}));return{title:i,searchDepth:a,depth:e,links:c}}function ot(r,t){const a=ct(r,t);return a.links=C(a.links),a}const pt=["object"],ut=["srcdoc","formaction"],ht=["javascript:","data:text/html","vbscript:","data:text/javascript","data:text/vbscript","data:text/css","data:text/plain","data:text/xml"];function gt(r){const a=decodeURIComponent(r).replace(/&#x([0-9a-f]+);?/gi,"").replace(/&#(\d+);?/g,"").replace(/&[a-z]+;?/gi,"");try{const e=new URL(a,"http://example.com");if(e.origin==="http://example.com")return!0;if(ht.some(i=>e.protocol.toLowerCase().startsWith(i)))return!1}catch{return!1}return!0}const ft=(r,t)=>(r=r.toLowerCase(),r.startsWith("on")||ut.includes(r)?!1:r==="href"||r==="src"?gt(t):!0),mt=(r,t)=>pt.includes(r)?{}:t?(t=Object.fromEntries(Object.entries(t).filter(([a,e])=>{const i=ft(a,e);return i||console.warn(`[@nuxtjs/mdc] removing unsafe attribute: ${a}="${e}"`),i})),r==="pre"&&typeof t.highlights=="string"&&(t.highlights=t.highlights.split(" ").map(a=>Number.parseInt(a))),t):{};function yt(r={}){const t=new R;function a(e,i){if(e.type==="root")return{type:"root",children:e.children.map(l=>a(l,e)).filter(Boolean)};const s=e.position?.start?.offset&&e.position?.end?.offset?{start:e.position.start.offset,end:e.position.end.offset}:void 0;if(e.type==="element"){if(e.tagName==="p"&&e.children.every(n=>n.type==="text"&&/^\s*$/.test(n.value)))return null;if(e.tagName==="li"){let n=!1;e.children=e.children?.flatMap(o=>o.type==="element"&&o.tagName==="p"?(n&&o.children.unshift({type:"element",tagName:"br",properties:{},children:[]}),n=!0,o.children):o)}e.tagName?.match(/^h\d$/)&&(e.properties=e.properties||{},e.properties.id=String(e.properties?.id||t.slug(G(e))).replace(/-+/g,"-").replace(/^-|-$/g,"").replace(/^(\d)/,"_$1")),e.tagName==="component-slot"&&(e.tagName="template");const l=(e.tagName==="template"&&e.content?.children.length?e.content.children:e.children).map(n=>a(n,e)).filter(Boolean),c={type:"element",tag:e.tagName,props:mt(e.tagName,e.properties),children:l};return r.keepPosition&&(c.position=s),c}return e.type==="text"&&(!/^\n+$/.test(e.value||"")||i?.properties?.emptyLinePlaceholder)?r.keepPosition?{type:"text",value:e.value,position:s}:{type:"text",value:e.value}:r.keepComments&&e.type==="comment"?r.keepPosition?{type:"comment",value:e.value,position:s}:{type:"comment",value:e.value}:null}this.Compiler=e=>{const i=a(e);let s;const l=e.children.findIndex(c=>c.type==="comment"&&c.value?.trim()==="more");if(l!==-1&&(s=a({type:"root",children:e.children.slice(0,l)}),s.children.find(c=>c.type==="element"&&c.tag==="pre"))){const c=i.children[i.children.length-1];c&&c.type==="element"&&c.tag==="style"&&s.children.push(c)}return i.children=(i.children||[]).filter(c=>c.type!=="text"),{body:i,excerpt:s}}}let p,g;const dt=async(r={})=>{p||(p=await v(()=>import("./t1bGXd6q.js"),__vite__mapDeps([0,1,2,3,4,5]),import.meta.url).catch(()=>({}))),g||(g=await v(()=>import("./bNaE6FFb.js"),[],import.meta.url).then(i=>i.getMdcConfigs()).catch(()=>[]));const t=[...g||[],...r.configs||[]];r.highlight!=null&&r.highlight!=!1&&r.highlight.highlighter!==void 0&&typeof r.highlight.highlighter!="function"&&(r={...r,highlight:{...r.highlight}},delete r.highlight.highlighter);const a=f(r,{remark:{plugins:p?.remarkPlugins},rehype:{plugins:p?.rehypePlugins},highlight:p?.highlight},T);a.rehype?.plugins?.highlight&&(r.highlight===!1?delete a.rehype.plugins.highlight:a.rehype.plugins.highlight.options=f({},a.rehype.plugins.highlight.options,a.highlight||{}));let e=B();for(const i of t)e=await i.unified?.pre?.(e)||e;e.use(V);for(const i of t)e=await i.unified?.remark?.(e)||e;await x(e,a.remark?.plugins),e.use(z,a.rehype?.options);for(const i of t)e=await i.unified?.rehype?.(e)||e;await x(e,a.rehype?.plugins),e.use(yt,a);for(const i of t)e=await i.unified?.post?.(e)||e;return e},vt=async(r={})=>{const t=await dt(r);return async function(e,{fileOptions:i}={}){const{content:s,data:l}=await U(e),c=typeof process<"u"&&typeof process.cwd=="function"?process.cwd():"/tmp",n=await new Promise((h,D)=>{t.process({cwd:c,...i,value:s,data:l},(d,E)=>{d?D(d):h(E)})}),o=n?.result,m=Object.assign(r.contentHeading!==!1?bt(o.body):{},l,n?.data||{}),u={data:m,body:o.body},y=m.toc??r.toc;if(y!==!1){const h=f({},y,T.toc);u.toc=ot(o.body,h)}return o.excerpt&&(u.excerpt=o.excerpt),u}},Pt=async(r,t={},a={})=>(await vt(t))(r.replace(/\r\n/g,`
`),a);function bt(r){let t="",a="";const e=r.children.filter(i=>i.type==="element"&&i.tag!=="hr");if(e.length&&e[0].tag==="h1"){const i=e.shift();t=b(i)}if(e.length&&e[0].tag==="p"){const i=e.shift();a=b(i)}return{title:t,description:a}}export{Ct as TEXT_TAGS,vt as createMarkdownParser,dt as createParseProcessor,Dt as flatUnwrap,Et as isTag,Mt as isText,St as nodeChildren,b as nodeTextContent,Pt as parseMarkdown,Ht as rehypeHighlight,$t as unwrap};
