import{C,Z as q,G as d,d as r,w as n,Q as u,H as D,R as e,S as P,o as U,a4 as I,f as k,aI as G,aJ as A,r as M,aK as j,e as g,a1 as J,ab as Q,y as Z,ac as W,ad as X,aL as Y,af as R,z as S,ah as K,n as w,aw as x,ax as N,aM as ee,V as te,ar as $,t as h,c as F,g as se,at as ae}from"./DyNf-cRw.js";import{i as O,D as oe,a as le,b as re}from"./C7P7-tvw.js";import{g as ne,F as ie,u as ue,a as de}from"./B1nxPUwW.js";import{u as T}from"./BaVLezE2.js";var pe=C({__name:"DialogClose",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"}},setup(a){const p=a;q();const t=O();return(o,s)=>(r(),d(e(P),D(p,{type:o.as==="button"?"button":void 0,onClick:s[0]||(s[0]=_=>e(t).onOpenChange(!1))}),{default:n(()=>[u(o.$slots,"default")]),_:3},16,["type"]))}}),fe=pe,ce=C({__name:"DialogContentImpl",props:{forceMount:{type:Boolean,required:!1},trapFocus:{type:Boolean,required:!1},disableOutsidePointerEvents:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(a,{emit:p}){const t=a,o=p,s=O(),{forwardRef:_,currentElement:m}=q();return s.titleId||=T(void 0,"reka-dialog-title"),s.descriptionId||=T(void 0,"reka-dialog-description"),U(()=>{s.contentElement=m,I()!==document.body&&(s.triggerElement.value=I())}),(f,i)=>(r(),d(e(ie),{"as-child":"",loop:"",trapped:t.trapFocus,onMountAutoFocus:i[5]||(i[5]=l=>o("openAutoFocus",l)),onUnmountAutoFocus:i[6]||(i[6]=l=>o("closeAutoFocus",l))},{default:n(()=>[k(e(G),D({id:e(s).contentId,ref:e(_),as:f.as,"as-child":f.asChild,"disable-outside-pointer-events":f.disableOutsidePointerEvents,role:"dialog","aria-describedby":e(s).descriptionId,"aria-labelledby":e(s).titleId,"data-state":e(ne)(e(s).open.value)},f.$attrs,{onDismiss:i[0]||(i[0]=l=>e(s).onOpenChange(!1)),onEscapeKeyDown:i[1]||(i[1]=l=>o("escapeKeyDown",l)),onFocusOutside:i[2]||(i[2]=l=>o("focusOutside",l)),onInteractOutside:i[3]||(i[3]=l=>o("interactOutside",l)),onPointerDownOutside:i[4]||(i[4]=l=>o("pointerDownOutside",l))}),{default:n(()=>[u(f.$slots,"default")]),_:3},16,["id","as","as-child","disable-outside-pointer-events","aria-describedby","aria-labelledby","data-state"])]),_:3},8,["trapped"]))}}),H=ce,ve=C({__name:"DialogContentModal",props:{forceMount:{type:Boolean,required:!1},trapFocus:{type:Boolean,required:!1},disableOutsidePointerEvents:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(a,{emit:p}){const t=a,o=p,s=O(),_=A(o),{forwardRef:m,currentElement:f}=q();return ue(f),(i,l)=>(r(),d(H,D({...t,...e(_)},{ref:e(m),"trap-focus":e(s).open.value,"disable-outside-pointer-events":!0,onCloseAutoFocus:l[0]||(l[0]=c=>{c.defaultPrevented||(c.preventDefault(),e(s).triggerElement.value?.focus())}),onPointerDownOutside:l[1]||(l[1]=c=>{const v=c.detail.originalEvent,y=v.button===0&&v.ctrlKey===!0;(v.button===2||y)&&c.preventDefault()}),onFocusOutside:l[2]||(l[2]=c=>{c.preventDefault()})}),{default:n(()=>[u(i.$slots,"default")]),_:3},16,["trap-focus"]))}}),ye=ve,me=C({__name:"DialogContentNonModal",props:{forceMount:{type:Boolean,required:!1},trapFocus:{type:Boolean,required:!1},disableOutsidePointerEvents:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(a,{emit:p}){const t=a,s=A(p);q();const _=O(),m=M(!1),f=M(!1);return(i,l)=>(r(),d(H,D({...t,...e(s)},{"trap-focus":!1,"disable-outside-pointer-events":!1,onCloseAutoFocus:l[0]||(l[0]=c=>{c.defaultPrevented||(m.value||e(_).triggerElement.value?.focus(),c.preventDefault()),m.value=!1,f.value=!1}),onInteractOutside:l[1]||(l[1]=c=>{c.defaultPrevented||(m.value=!0,c.detail.originalEvent.type==="pointerdown"&&(f.value=!0));const v=c.target;e(_).triggerElement.value?.contains(v)&&c.preventDefault(),c.detail.originalEvent.type==="focusin"&&f.value&&c.preventDefault()})}),{default:n(()=>[u(i.$slots,"default")]),_:3},16))}}),ge=me,_e=C({__name:"DialogContent",props:{forceMount:{type:Boolean,required:!1},disableOutsidePointerEvents:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(a,{emit:p}){const t=a,o=p,s=O(),_=A(o),{forwardRef:m}=q();return(f,i)=>(r(),d(e(j),{present:f.forceMount||e(s).open.value},{default:n(()=>[e(s).modal.value?(r(),d(ye,D({key:0,ref:e(m)},{...t,...e(_),...f.$attrs}),{default:n(()=>[u(f.$slots,"default")]),_:3},16)):(r(),d(ge,D({key:1,ref:e(m)},{...t,...e(_),...f.$attrs}),{default:n(()=>[u(f.$slots,"default")]),_:3},16))]),_:3},8,["present"]))}}),De=_e,Ce=C({__name:"DialogDescription",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"p"}},setup(a){const p=a;q();const t=O();return(o,s)=>(r(),d(e(P),D(p,{id:e(t).descriptionId}),{default:n(()=>[u(o.$slots,"default")]),_:3},16,["id"]))}}),L=Ce,qe=C({__name:"DialogOverlayImpl",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(a){const p=O();return de(!0),q(),(t,o)=>(r(),d(e(P),{as:t.as,"as-child":t.asChild,"data-state":e(p).open.value?"open":"closed",style:{"pointer-events":"auto"}},{default:n(()=>[u(t.$slots,"default")]),_:3},8,["as","as-child","data-state"]))}}),Oe=qe,be=C({__name:"DialogOverlay",props:{forceMount:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(a){const p=O(),{forwardRef:t}=q();return(o,s)=>e(p)?.modal.value?(r(),d(e(j),{key:0,present:o.forceMount||e(p).open.value},{default:n(()=>[k(Oe,D(o.$attrs,{ref:e(t),as:o.as,"as-child":o.asChild}),{default:n(()=>[u(o.$slots,"default")]),_:3},16,["as","as-child"])]),_:3},8,["present"])):g("v-if",!0)}}),we=be,Be=C({__name:"DialogTitle",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"h2"}},setup(a){const p=a,t=O();return q(),(o,s)=>(r(),d(e(P),D(p,{id:e(t).titleId}),{default:n(()=>[u(o.$slots,"default")]),_:3},16,["id"]))}}),V=Be;const $e={slots:{overlay:"fixed inset-0 bg-elevated/75",content:"fixed bg-default divide-y divide-default flex flex-col focus:outline-none",header:"flex items-center gap-1.5 p-4 sm:px-6 min-h-16",wrapper:"",body:"flex-1 overflow-y-auto p-4 sm:p-6",footer:"flex items-center gap-1.5 p-4 sm:px-6",title:"text-highlighted font-semibold",description:"mt-1 text-muted text-sm",close:"absolute top-4 end-4"},variants:{transition:{true:{overlay:"data-[state=open]:animate-[fade-in_200ms_ease-out] data-[state=closed]:animate-[fade-out_200ms_ease-in]",content:"data-[state=open]:animate-[scale-in_200ms_ease-out] data-[state=closed]:animate-[scale-out_200ms_ease-in]"}},fullscreen:{true:{content:"inset-0"},false:{content:"top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[calc(100vw-2rem)] max-w-lg max-h-[calc(100dvh-2rem)] sm:max-h-[calc(100dvh-4rem)] rounded-lg shadow-lg ring ring-default overflow-hidden"}}}},Fe={__name:"UModal",props:{title:{type:String,required:!1},description:{type:String,required:!1},content:{type:Object,required:!1},overlay:{type:Boolean,required:!1,default:!0},transition:{type:Boolean,required:!1,default:!0},fullscreen:{type:Boolean,required:!1},portal:{type:[Boolean,String],required:!1,skipCheck:!0,default:!0},close:{type:[Boolean,Object],required:!1,default:!0},closeIcon:{type:[String,Object],required:!1},dismissible:{type:Boolean,required:!1,default:!0},class:{type:null,required:!1},ui:{type:null,required:!1},open:{type:Boolean,required:!1},defaultOpen:{type:Boolean,required:!1},modal:{type:Boolean,required:!1,default:!0}},emits:["after:leave","after:enter","close:prevent","update:open"],setup(a,{emit:p}){const t=a,o=p,s=J(),{t:_}=Q(),m=Z(),f=W(X(t,"open","defaultOpen","modal"),o),i=Y(R(()=>t.portal)),l=R(()=>t.content),c=S(()=>t.dismissible?{}:["pointerDownOutside","interactOutside","escapeKeyDown"].reduce((b,E)=>(b[E]=B=>{B.preventDefault(),o("close:prevent")},b),{})),v=S(()=>K({extend:K($e),...m.ui?.modal||{}})({transition:t.transition,fullscreen:t.fullscreen}));return(y,b)=>(r(),d(e(re),x(N(e(f))),{default:n(({open:E,close:B})=>[s.default?(r(),d(e(oe),{key:0,"as-child":"",class:w(t.class)},{default:n(()=>[u(y.$slots,"default",{open:E})]),_:2},1032,["class"])):g("",!0),k(e(le),x(N(e(i))),{default:n(()=>[a.overlay?(r(),d(e(we),{key:0,class:w(v.value.overlay({class:t.ui?.overlay}))},null,8,["class"])):g("",!0),k(e(De),D({class:v.value.content({class:[!s.default&&t.class,t.ui?.content]})},l.value,{onAfterEnter:b[0]||(b[0]=z=>o("after:enter")),onAfterLeave:b[1]||(b[1]=z=>o("after:leave"))},ee(c.value)),{default:n(()=>[s.content&&(a.title||s.title||a.description||s.description)?(r(),d(e(te),{key:0},{default:n(()=>[a.title||s.title?(r(),d(e(V),{key:0},{default:n(()=>[u(y.$slots,"title",{},()=>[$(h(a.title),1)])]),_:3})):g("",!0),a.description||s.description?(r(),d(e(L),{key:1},{default:n(()=>[u(y.$slots,"description",{},()=>[$(h(a.description),1)])]),_:3})):g("",!0)]),_:3})):g("",!0),u(y.$slots,"content",{close:B},()=>[s.header||a.title||s.title||a.description||s.description||t.close||s.close?(r(),F("div",{key:0,class:w(v.value.header({class:t.ui?.header}))},[u(y.$slots,"header",{close:B},()=>[se("div",{class:w(v.value.wrapper({class:t.ui?.wrapper}))},[a.title||s.title?(r(),d(e(V),{key:0,class:w(v.value.title({class:t.ui?.title}))},{default:n(()=>[u(y.$slots,"title",{},()=>[$(h(a.title),1)])]),_:3},8,["class"])):g("",!0),a.description||s.description?(r(),d(e(L),{key:1,class:w(v.value.description({class:t.ui?.description}))},{default:n(()=>[u(y.$slots,"description",{},()=>[$(h(a.description),1)])]),_:3},8,["class"])):g("",!0)],2),u(y.$slots,"actions"),t.close||s.close?(r(),d(e(fe),{key:0,"as-child":""},{default:n(()=>[u(y.$slots,"close",{ui:v.value},()=>[t.close?(r(),d(ae,D({key:0,icon:a.closeIcon||e(m).ui.icons.close,color:"neutral",variant:"ghost","aria-label":e(_)("modal.close")},typeof t.close=="object"?t.close:{},{class:v.value.close({class:t.ui?.close})}),null,16,["icon","aria-label","class"])):g("",!0)])]),_:2},1024)):g("",!0)])],2)):g("",!0),s.body?(r(),F("div",{key:1,class:w(v.value.body({class:t.ui?.body}))},[u(y.$slots,"body",{close:B})],2)):g("",!0),s.footer?(r(),F("div",{key:2,class:w(v.value.footer({class:t.ui?.footer}))},[u(y.$slots,"footer",{close:B})],2)):g("",!0)])]),_:2},1040,["class"])]),_:2},1040)]),_:3},16))}};export{Fe as _};
