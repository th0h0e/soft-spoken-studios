import{C as b,r as k,c as i,e as l,d as s,g as h,f as d,aN as N,F as P,I as U,G as f,w as m,n as L,at as O,q as Q,aD as x,aG as H,b0 as K,b1 as j,aP as T,z as $,b3 as W,aE as C,aF as X,b2 as J,aA as Y,R as a,aH as Z,ak as ee,ar as w,an as te,t as p}from"./w8L8wXwT.js";import{_ as ae}from"./Bggm4MF5.js";import{_ as ne,a as se,b as oe}from"./BN6Rt7aI.js";import"./CzCJWUL8.js";import"./iik6CYzq.js";import"./Doo7pUiL.js";function A(n,t,o=0){const c={title:"label",path:"to"},e=Object.keys(n).reduce((r,_)=>{if(n[_]){const u=c[_]||_;r[u]=n[_]}return r},{});return Array.isArray(n.children)?e.children=n.children.map(r=>A(r,t,o+1)):e.children=[],e}function ce(n,t){return n.map(o=>A(o,t))}const re={key:0,class:"space-y-2"},le={class:"overflow-hidden rounded-lg aspect-16/10"},ie={key:0,class:"grid grid-cols-4 gap-1.5"},ue=b({__name:"ProjectGallery",props:{images:{}},setup(n){const t=k(0);return(o,c)=>{const e=N,r=O;return n.images&&n.images.length>0?(s(),i("div",re,[h("div",le,[d(e,{src:n.images[t.value],alt:`Gallery image ${t.value+1}`,class:"w-full h-full object-cover object-center",fit:"cover",width:"800",height:"500"},null,8,["src","alt"])]),n.images.length>1?(s(),i("div",ie,[(s(!0),i(P,null,U(n.images,(_,u)=>(s(),f(r,{key:u,active:u===t.value,variant:"soft",ui:{base:"overflow-hidden rounded transition-opacity hover:opacity-75 p-0 h-auto"},class:L(["overflow-hidden rounded aspect-16/10",{"ring-1 ring-primary":u===t.value}]),onClick:g=>t.value=u},{default:m(()=>[d(e,{src:_,alt:`Gallery thumbnail ${u+1}`,class:"w-full h-full object-cover",fit:"cover",width:"160",height:"100"},null,8,["src","alt"])]),_:2},1032,["active","class","onClick"]))),128))])):l("",!0)])):l("",!0)}}}),_e=Object.assign(ue,{__name:"ProjectGallery"});function B(n,t,o){return!n?.length||!t?[]:n.reduce((c,e)=>(t&&(t+"/").startsWith(e.path+"/")&&((t!==e.path||o?.current||o?.indexAsChild)&&c.push(e),e.children&&c.push(...B(e.children.filter(r=>r.path!==e.path||r.path===t&&o?.current&&o?.indexAsChild),t,o))),c),[])}const de={class:"flex flex-col gap-3 mt-8"},me={class:"flex text-xs text-muted items-center justify-center gap-2"},pe={key:0},fe={key:1},he={key:2},ge={key:3},ye={key:4},ve={class:"text-4xl text-center font-medium max-w-3xl mx-auto mt-4"},xe={class:"text-muted text-center max-w-2xl mx-auto"},je={key:0,class:"flex items-center justify-center gap-2 mt-2 flex-wrap"},Pe=b({__name:"[...slug]",async setup(n){let t,o;const c=Q(),{data:e}=([t,o]=x(()=>C(c.path,()=>X("projects").path(c.path).first(),"$cAjQnkX-Qf")),t=await t,o(),t);if(!e.value)throw H({statusCode:404,statusMessage:"Page not found",fatal:!0});K({title:`${e.value.title} - ${j.name}`,description:e.value.description||j.description});const{data:r}=([t,o]=x(()=>C(`${c.path}-surround`,()=>J("projects",c.path,{fields:["description"]}))),t=await t,o(),t),_=T("navigation",k([])),u=$(()=>_.value.find(g=>g.path==="/projects")?.children||[]);return $(()=>ce(B(u?.value,e.value?.path)).map(({icon:g,...y})=>y)),(g,y)=>{const G=te,I=ee,M=N,S=ae,V=se,q=_e,z=oe,D=ne,E=Z,F=Y,R=W;return s(),f(R,{class:"mt-20 px-2"},{default:m(()=>[d(F,{class:"relative min-h-screen"},{default:m(()=>[a(e)?(s(),f(E,{key:0},{default:m(()=>[d(I,{to:"/projects",class:"text-sm flex items-center gap-1"},{default:m(()=>[d(G,{name:"lucide:chevron-left"}),y[0]||(y[0]=w(" Projects ",-1))]),_:1}),h("div",de,[h("div",me,[a(e).client?(s(),i("span",pe,p(a(e).client),1)):l("",!0),a(e).client&&a(e).year?(s(),i("span",fe," • ")):l("",!0),a(e).year?(s(),i("span",he,p(a(e).year),1)):l("",!0),a(e).role&&(a(e).client||a(e).year)?(s(),i("span",ge," • ")):l("",!0),a(e).role?(s(),i("span",ye,p(a(e).role),1)):l("",!0)]),d(M,{src:a(e).image,alt:a(e).title,class:"rounded-lg w-full aspect-16/10 object-cover object-center"},null,8,["src","alt"]),h("h1",ve,p(a(e).title),1),h("p",xe,p(a(e).description),1),a(e).tags?(s(),i("div",je,[(s(!0),i(P,null,U(a(e).tags,v=>(s(),f(S,{key:v,color:"neutral",variant:"subtle",size:"sm"},{default:m(()=>[w(p(v),1)]),_:2},1024))),128))])):l("",!0)]),d(D,null,{default:m(()=>[a(e).body?(s(),f(V,{key:0,value:a(e)},null,8,["value"])):l("",!0),a(e).gallery&&a(e).gallery.length>0?(s(),f(q,{key:1,images:a(e).gallery,class:"my-8"},null,8,["images"])):l("",!0),d(z,{surround:a(r)},null,8,["surround"])]),_:1})]),_:1})):l("",!0)]),_:1})]),_:1})}}});export{Pe as default};
