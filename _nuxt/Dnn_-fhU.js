import{Q as k,r as N,c as i,e as l,d as s,g,f as d,aZ as U,F as B,X as P,U as f,w as m,n as D,aE as F,aQ as K,q as T,aO as j,aS as X,a$ as H,N as C,bb as W,aP as $,aR as w,L as Z,K as J,aL as Y,a5 as a,aT as ee,av as te,aC as b,ay as ae,t as p}from"./B-BTGr6A.js";import{_ as ne}from"./DLUxyzME.js";import{d as se,a as oe,_ as ce,b as re,c as le}from"./CLVSxuab.js";import"./wYblUTy3.js";import"./iik6CYzq.js";import"./CC_Q9aHf.js";function I(n,t,o=0){const c={title:"label",path:"to"},e=Object.keys(n).reduce((r,_)=>{if(n[_]){const u=c[_]||_;r[u]=n[_]}return r},{});return Array.isArray(n.children)?e.children=n.children.map(r=>I(r,t,o+1)):e.children=[],e}function ie(n,t){return n.map(o=>I(o,t))}const ue={key:0,class:"space-y-2"},_e={class:"overflow-hidden rounded-lg aspect-16/10"},de={key:0,class:"grid grid-cols-4 gap-1.5"},me=k({__name:"ProjectGallery",props:{images:{}},setup(n){const t=N(0);return(o,c)=>{const e=U,r=F;return n.images&&n.images.length>0?(s(),i("div",ue,[g("div",_e,[d(e,{src:n.images[t.value],alt:`Gallery image ${t.value+1}`,class:"w-full h-full object-cover object-center",fit:"cover",width:"800",height:"500"},null,8,["src","alt"])]),n.images.length>1?(s(),i("div",de,[(s(!0),i(B,null,P(n.images,(_,u)=>(s(),f(r,{key:u,active:u===t.value,variant:"soft",ui:{base:"overflow-hidden rounded transition-opacity hover:opacity-75 p-0 h-auto"},class:D(["overflow-hidden rounded aspect-16/10",{"ring-1 ring-primary":u===t.value}]),onClick:y=>t.value=u},{default:m(()=>[d(e,{src:_,alt:`Gallery thumbnail ${u+1}`,class:"w-full h-full object-cover",fit:"cover",width:"160",height:"100"},null,8,["src","alt"])]),_:2},1032,["active","class","onClick"]))),128))])):l("",!0)])):l("",!0)}}}),pe=Object.assign(me,{__name:"ProjectGallery"});function A(n,t,o){return!n?.length||!t?[]:n.reduce((c,e)=>(t&&(t+"/").startsWith(e.path+"/")&&((t!==e.path||o?.current||o?.indexAsChild)&&c.push(e),e.children&&c.push(...A(e.children.filter(r=>r.path!==e.path||r.path===t&&o?.current&&o?.indexAsChild),t,o))),c),[])}const fe={class:"flex flex-col gap-3 mt-8"},he={class:"flex text-xs text-muted items-center justify-center gap-2"},ge={key:0},ve={key:1},ye={key:2},xe={key:3},je={key:4},Ce={class:"text-4xl text-center font-medium max-w-3xl mx-auto mt-4"},$e={class:"text-muted text-center max-w-2xl mx-auto"},we={key:0,class:"flex items-center justify-center gap-2 mt-2 flex-wrap"},Ie=k({__name:"[...slug]",async setup(n){let t,o;K({title:w.name,meta:[{name:"description",content:w.description}]});const c=T(),{data:e}=([t,o]=j(()=>$(c.path,()=>Z("projects").path(c.path).first(),"$cAjQnkX-Qf")),t=await t,o(),t);if(!e.value)throw X({statusCode:404,statusMessage:"Page not found",fatal:!0});const{data:r}=([t,o]=j(()=>$(`${c.path}-surround`,()=>J("projects",c.path,{fields:["description"]}))),t=await t,o(),t),_=H("navigation",N([])),u=C(()=>_.value.find(h=>h.path==="/projects")?.children||[]),y=C(()=>ie(A(u?.value,e.value?.path)).map(({icon:h,...v})=>v));return e.value.image?se({url:e.value.image}):oe("Blog",{headline:y.value.map(h=>h.label).join(" > ")},{fonts:["Geist:400","Geist:600"]}),(h,v)=>{const G=ae,O=te,L=U,M=ne,Q=re,S=pe,V=le,q=ce,E=ee,R=Y,z=W;return s(),f(z,{class:"mt-20 px-2"},{default:m(()=>[d(R,{class:"relative min-h-screen"},{default:m(()=>[a(e)?(s(),f(E,{key:0},{default:m(()=>[d(O,{to:"/projects",class:"text-sm flex items-center gap-1"},{default:m(()=>[d(G,{name:"lucide:chevron-left"}),v[0]||(v[0]=b(" Projects ",-1))]),_:1}),g("div",fe,[g("div",he,[a(e).client?(s(),i("span",ge,p(a(e).client),1)):l("",!0),a(e).client&&a(e).year?(s(),i("span",ve," • ")):l("",!0),a(e).year?(s(),i("span",ye,p(a(e).year),1)):l("",!0),a(e).role&&(a(e).client||a(e).year)?(s(),i("span",xe," • ")):l("",!0),a(e).role?(s(),i("span",je,p(a(e).role),1)):l("",!0)]),d(L,{src:a(e).image,alt:a(e).title,class:"rounded-lg w-full aspect-16/10 object-cover object-center"},null,8,["src","alt"]),g("h1",Ce,p(a(e).title),1),g("p",$e,p(a(e).description),1),a(e).tags?(s(),i("div",we,[(s(!0),i(B,null,P(a(e).tags,x=>(s(),f(M,{key:x,color:"neutral",variant:"subtle",size:"sm"},{default:m(()=>[b(p(x),1)]),_:2},1024))),128))])):l("",!0)]),d(q,null,{default:m(()=>[a(e).body?(s(),f(Q,{key:0,value:a(e)},null,8,["value"])):l("",!0),a(e).gallery&&a(e).gallery.length>0?(s(),f(S,{key:1,images:a(e).gallery,class:"my-8"},null,8,["images"])):l("",!0),d(V,{surround:a(r)},null,8,["surround"])]),_:1})]),_:1})):l("",!0)]),_:1})]),_:1})}}});export{Ie as default};
