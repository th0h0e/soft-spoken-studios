import{C as k,r as N,c as i,e as l,d as s,g,f as d,aN as B,F as G,I,G as f,w as m,n as H,at as L,q as Q,aD as j,aG as K,b0 as T,b1 as $,aP as W,z as C,b3 as X,aE as b,aF as J,b2 as Y,aA as Z,R as a,aH as ee,ak as te,ar as w,an as ae,t as p}from"./CMUYP8ZT.js";import{_ as ne}from"./CO0NzQR8.js";import{d as se,a as oe,_ as ce,b as re,c as le}from"./Cbw5nukA.js";import"./DA251dC1.js";import"./iik6CYzq.js";import"./Do6kXifX.js";function P(n,t,o=0){const c={title:"label",path:"to"},e=Object.keys(n).reduce((r,_)=>{if(n[_]){const u=c[_]||_;r[u]=n[_]}return r},{});return Array.isArray(n.children)?e.children=n.children.map(r=>P(r,t,o+1)):e.children=[],e}function ie(n,t){return n.map(o=>P(o,t))}const ue={key:0,class:"space-y-2"},_e={class:"overflow-hidden rounded-lg aspect-16/10"},de={key:0,class:"grid grid-cols-4 gap-1.5"},me=k({__name:"ProjectGallery",props:{images:{}},setup(n){const t=N(0);return(o,c)=>{const e=B,r=L;return n.images&&n.images.length>0?(s(),i("div",ue,[g("div",_e,[d(e,{src:n.images[t.value],alt:`Gallery image ${t.value+1}`,class:"w-full h-full object-cover object-center",fit:"cover",width:"800",height:"500"},null,8,["src","alt"])]),n.images.length>1?(s(),i("div",de,[(s(!0),i(G,null,I(n.images,(_,u)=>(s(),f(r,{key:u,active:u===t.value,variant:"soft",ui:{base:"overflow-hidden rounded transition-opacity hover:opacity-75 p-0 h-auto"},class:H(["overflow-hidden rounded aspect-16/10",{"ring-1 ring-primary":u===t.value}]),onClick:y=>t.value=u},{default:m(()=>[d(e,{src:_,alt:`Gallery thumbnail ${u+1}`,class:"w-full h-full object-cover",fit:"cover",width:"160",height:"100"},null,8,["src","alt"])]),_:2},1032,["active","class","onClick"]))),128))])):l("",!0)])):l("",!0)}}}),pe=Object.assign(me,{__name:"ProjectGallery"});function U(n,t,o){return!n?.length||!t?[]:n.reduce((c,e)=>(t&&(t+"/").startsWith(e.path+"/")&&((t!==e.path||o?.current||o?.indexAsChild)&&c.push(e),e.children&&c.push(...U(e.children.filter(r=>r.path!==e.path||r.path===t&&o?.current&&o?.indexAsChild),t,o))),c),[])}const fe={class:"flex flex-col gap-3 mt-8"},he={class:"flex text-xs text-muted items-center justify-center gap-2"},ge={key:0},ve={key:1},ye={key:2},xe={key:3},je={key:4},$e={class:"text-4xl text-center font-medium max-w-3xl mx-auto mt-4"},Ce={class:"text-muted text-center max-w-2xl mx-auto"},be={key:0,class:"flex items-center justify-center gap-2 mt-2 flex-wrap"},Pe=k({__name:"[...slug]",async setup(n){let t,o;const c=Q(),{data:e}=([t,o]=j(()=>b(c.path,()=>J("projects").path(c.path).first(),"$cAjQnkX-Qf")),t=await t,o(),t);if(!e.value)throw K({statusCode:404,statusMessage:"Page not found",fatal:!0});T({title:`${e.value.title} - ${$.name}`,meta:[{name:"description",content:e.value.description||$.description}]});const{data:r}=([t,o]=j(()=>b(`${c.path}-surround`,()=>Y("projects",c.path,{fields:["description"]}))),t=await t,o(),t),_=W("navigation",N([])),u=C(()=>_.value.find(h=>h.path==="/projects")?.children||[]),y=C(()=>ie(U(u?.value,e.value?.path)).map(({icon:h,...v})=>v));return e.value.image?se({url:e.value.image}):oe("Blog",{headline:y.value.map(h=>h.label).join(" > ")},{fonts:["Geist:400","Geist:600"]}),(h,v)=>{const A=ae,M=te,O=B,V=ne,q=re,z=pe,D=le,E=ce,F=ee,R=Z,S=X;return s(),f(S,{class:"mt-20 px-2"},{default:m(()=>[d(R,{class:"relative min-h-screen"},{default:m(()=>[a(e)?(s(),f(F,{key:0},{default:m(()=>[d(M,{to:"/projects",class:"text-sm flex items-center gap-1"},{default:m(()=>[d(A,{name:"lucide:chevron-left"}),v[0]||(v[0]=w(" Projects ",-1))]),_:1}),g("div",fe,[g("div",he,[a(e).client?(s(),i("span",ge,p(a(e).client),1)):l("",!0),a(e).client&&a(e).year?(s(),i("span",ve," • ")):l("",!0),a(e).year?(s(),i("span",ye,p(a(e).year),1)):l("",!0),a(e).role&&(a(e).client||a(e).year)?(s(),i("span",xe," • ")):l("",!0),a(e).role?(s(),i("span",je,p(a(e).role),1)):l("",!0)]),d(O,{src:a(e).image,alt:a(e).title,class:"rounded-lg w-full aspect-16/10 object-cover object-center"},null,8,["src","alt"]),g("h1",$e,p(a(e).title),1),g("p",Ce,p(a(e).description),1),a(e).tags?(s(),i("div",be,[(s(!0),i(G,null,I(a(e).tags,x=>(s(),f(V,{key:x,color:"neutral",variant:"subtle",size:"sm"},{default:m(()=>[w(p(x),1)]),_:2},1024))),128))])):l("",!0)]),d(E,null,{default:m(()=>[a(e).body?(s(),f(q,{key:0,value:a(e)},null,8,["value"])):l("",!0),a(e).gallery&&a(e).gallery.length>0?(s(),f(z,{key:1,images:a(e).gallery,class:"my-8"},null,8,["images"])):l("",!0),d(D,{surround:a(r)},null,8,["surround"])]),_:1})]),_:1})):l("",!0)]),_:1})]),_:1})}}});export{Pe as default};
